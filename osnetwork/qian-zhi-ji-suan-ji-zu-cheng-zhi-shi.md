---
description: 太久没有接触操作系统知识，重新复习。
---

# 前置计算机组成知识

## 前置计算机组成知识 　　

进程是程序的执行副本，操作系统用进程来分配资源。

冯诺依曼模型：输入设备，输出设备，内存，CPU、总线

寄存器：存在于CPU内，通用寄存器（供用户编程，比如加和指令的两个参数）、指令寄存器（存储指令）、特殊寄存器（存储的下一条指令的内存地址，PC寄存器）。

总线：地址总线（寻址下一条指令的内存地址）、数据总线（找到地址后，读写内存数据）、控制总线（发送或者是接收，或是中断信号）。CPU读写内存的指令存入到指令寄存器时，通过上述总线操作。

**提问：64位相对于32位的优势？**

存储的数据单位是二进制：bit （位），一个字节（Byte）8位，CPU每次可以计算4个Byte，称为32位CPU，每次计算8个Byte，称为64位CPU。一条地址总线只能表示0，1两种情况，只能操作两个内存地址。一般32位宽的CPU最多操作32位宽的地址总线与数据总线，如果32位宽的CPU操作40位宽的地址总线，工作会非常麻烦需要大家指定协议。大部分应用的计算数字不会超过32位，因为32位有符号整数可以达到20亿。32位宽的CPU最多操作2^32个内存地址，即4GB内存地址。

1. 如果是64位宽CPU，优势在于可以进行更多的数值运算，可以寻址更大的内存空间。
2. 如果是64位程序，对应的指令即64位，32位程序在64位上面运行可以兼容，反之，64位指令在32位机器上无法执行，32位的寄存器存不下64位的指令。
3. 如果是64位操作系统，操作系统也是一种程序，同2。

存储器分级：寄存器 > L1-Cache > L2-Cache > L3-Cache > 内存 > SSD

寄存器的访问在半个时钟，L1缓存也在CPU内，访问速度2-4个时钟，内存在200-300时钟。L1-Cache分为数据区与指令区，（避免数据缓存覆盖指令缓存）L2,L3不需要区分，不需要协助处理指令预读问题。

缓存命中率：L1+L2+L3在95%左右，只有5%会穿透缓存到内存。L1-Cache缓存条目满了，CPU又读取了内存，涉及到**缓存置换问题。**

**提问：假设有一个二维数组，总共有 1M 个条目，如果我们要遍历这个二维数组，应该逐行遍历还是逐列遍历？**

二维数组本质还是一维数组，只是进行了脚标的变换，CPU遍历二维数组时，先从CPU缓存中取数据，现在的CPU并不是一次读取一个内存地址，而是读取每次读取相邻的多个内存地址。另一方面当读取内存地址跳跃较大的时候，会触发内存的页面置换。
